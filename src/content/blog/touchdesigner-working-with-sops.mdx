---
title:
  en: "TouchDesigner Tutorial: Working with SOPs"
  zh: "TouchDesigner教程：使用SOPs"
description:
  en: "Learn how to work with Surface Operators (SOPs) for 3D geometry in TouchDesigner"
  zh: "学习在TouchDesigner中使用表面操作符(SOPs)处理3D几何体"
date: 2023-02-15
tags: ["touchdesigner", "tutorial", "sops", "3d-geometry", "creative-coding"]
series: "touchdesigner-tutorial"
image: "https://i.ytimg.com/vi/Aa4vCAGtwrA/hqdefault.jpg"
---

import YouTube from '../../components/YouTube.astro';

<YouTube id="Aa4vCAGtwrA" title="TouchDesigner Tutorial: Working with SOPs" />

:::en
This tutorial covers Surface Operators (SOPs) in TouchDesigner - the operator family for creating and manipulating 3D geometry.

## What Are SOPs?

SOPs (Surface Operators) are TouchDesigner's operator family for working with 3D content. They can read, create, and modify:

- 3D points and polygons
- Lines and curves
- Particle surfaces
- Spheres and metaballs

Like all TouchDesigner operators, SOPs work within procedural pipelines. This means changes to your SOP networks immediately impact your final result - a core concept that makes TouchDesigner powerful for real-time creative work.

## Basic SOP Workflow: Copy SOP

The tutorial demonstrates a fundamental workflow using the Copy SOP:

1. **Create a Rectangle SOP** - Use Tab to open the operator create dialog and add a rectangle
2. **Add a Copy SOP** - Right-click on the rectangle's output and add a copy operator
3. **Set number of copies** - Increase copies to 10
4. **Apply transformations** - Set translate X to 1.25 to space copies along the X axis

Each copy is translated by the specified amount, creating a row of rectangles. You can also apply rotation (e.g., rotation Z) to spin each primitive on its axis.

## Viewer Navigation

To examine your 3D geometry, activate the viewer with the **A key**:

- **Left mouse button** - Tumble (rotate) the view
- **Right mouse button** - Pan the view
- **Middle mouse button** - Zoom
- **H key** - Home the view (reset to default position)

You can also middle-mouse drag on parameters to interactively adjust values while seeing real-time results.

## Template-Based Copying

The Copy SOP has a powerful second input for template-based copying:

1. Create a Rectangle SOP (set size to 0.1 x 0.1)
2. Create a Circle SOP
3. Add a Copy SOP
4. Connect the rectangle to input 1, circle to input 2

This places a copy of the first input at each vertex of the second input. Changing the circle's divisions immediately affects how many copies appear - demonstrating the procedural nature of TouchDesigner.

## Display Options for Debugging

Right-click inside an active viewer and select "Display Options" to see:

- Vertex positions
- Vertex number counts
- Normals (useful for understanding orientation and lighting)
- XYZ coordinates for each point

This information is invaluable when debugging geometry or understanding how operators transform your data.

## Sweep SOP Workflow

The Sweep SOP creates geometry by sweeping a profile along a backbone:

1. Create a Rectangle SOP (the profile)
2. Create a Circle SOP set to "Open" arc type, ending at 180 degrees (the backbone)
3. Add a Sweep SOP
4. Connect rectangle to input 1, circle to input 2

Initial parameters to adjust:
- **Scale**: Set to 0.25 for a smaller profile
- **Twist**: Set to 5 for a spiral effect
- **Output page**: Enable "Skin" to create a continuous surface

## Creating Low-Poly Geometry

To achieve a faceted, low-poly look:

1. Add a **Convert SOP** after your sweep to convert to polygons
2. Add a **Facet SOP** with:
   - "Unique Points" enabled
   - "Compute Normals" enabled

This creates distinct faces with hard edges rather than smooth shading.

## Key Takeaways

1. **SOPs are procedural** - Changes anywhere in your network propagate to the final result
2. **Use the A key** to activate viewers and examine geometry in 3D
3. **Copy SOP** can use a second input as a template for placing copies at vertices
4. **Sweep SOP** creates geometry by sweeping profiles along paths
5. **Display Options** help you understand vertex positions, normals, and point data
6. **Convert and Facet SOPs** are essential for controlling polygon output and normals
:::

:::zh
本教程介绍TouchDesigner中的表面操作符(SOPs) - 用于创建和操作3D几何体的操作符家族。

## 什么是SOPs?

SOPs(表面操作符)是TouchDesigner中处理3D内容的操作符家族。它们可以读取、创建和修改：

- 3D点和多边形
- 线条和曲线
- 粒子表面
- 球体和元球

与所有TouchDesigner操作符一样，SOPs在程序化管线中工作。这意味着对SOP网络的更改会立即影响最终结果 - 这是使TouchDesigner在实时创意工作中如此强大的核心概念。

## 基本SOP工作流程：Copy SOP

教程演示了使用Copy SOP的基本工作流程：

1. **创建Rectangle SOP** - 使用Tab键打开操作符创建对话框并添加矩形
2. **添加Copy SOP** - 右键点击矩形的输出并添加复制操作符
3. **设置复制数量** - 将副本数增加到10
4. **应用变换** - 将translate X设置为1.25，沿X轴间隔排列副本

每个副本按指定量平移，创建一排矩形。你还可以应用旋转（例如rotation Z）使每个图元绕其轴旋转。

## 视图导航

要检查3D几何体，使用**A键**激活查看器：

- **鼠标左键** - 翻转（旋转）视图
- **鼠标右键** - 平移视图
- **鼠标中键** - 缩放
- **H键** - 归位视图（重置到默认位置）

你还可以在参数上中键拖动，实时查看结果的同时交互式调整数值。

## 基于模板的复制

Copy SOP有一个强大的第二输入用于基于模板的复制：

1. 创建Rectangle SOP（设置大小为0.1 x 0.1）
2. 创建Circle SOP
3. 添加Copy SOP
4. 将矩形连接到输入1，圆形连接到输入2

这会在第二个输入的每个顶点处放置第一个输入的副本。更改圆形的分段数会立即影响出现多少副本 - 这展示了TouchDesigner的程序化特性。

## 调试用显示选项

在激活的查看器内右键点击并选择"Display Options"可以看到：

- 顶点位置
- 顶点编号计数
- 法线（对理解方向和光照很有用）
- 每个点的XYZ坐标

这些信息在调试几何体或理解操作符如何变换数据时非常宝贵。

## Sweep SOP工作流程

Sweep SOP通过沿骨架扫掠轮廓来创建几何体：

1. 创建Rectangle SOP（轮廓）
2. 创建Circle SOP，设置为"Open"弧类型，结束角度为180度（骨架）
3. 添加Sweep SOP
4. 将矩形连接到输入1，圆形连接到输入2

需要调整的初始参数：
- **Scale**：设置为0.25以获得较小的轮廓
- **Twist**：设置为5以获得螺旋效果
- **Output页面**：启用"Skin"以创建连续表面

## 创建低多边形几何体

要实现分面的低多边形外观：

1. 在sweep后添加**Convert SOP**转换为多边形
2. 添加**Facet SOP**并设置：
   - 启用"Unique Points"
   - 启用"Compute Normals"

这会创建具有硬边的独立面，而不是平滑着色。

## 关键要点

1. **SOPs是程序化的** - 网络中任何位置的更改都会传播到最终结果
2. **使用A键**激活查看器并在3D中检查几何体
3. **Copy SOP**可以使用第二个输入作为模板，在顶点处放置副本
4. **Sweep SOP**通过沿路径扫掠轮廓来创建几何体
5. **Display Options**帮助你理解顶点位置、法线和点数据
6. **Convert和Facet SOPs**对于控制多边形输出和法线至关重要
:::
