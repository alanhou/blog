---
title:
  en: "City Editing: Hierarchical Agentic Execution for Dependency-Aware Urban Geospatial Modification"
  zh: "城市编辑:面向依赖感知的城市地理空间修改的层次化智能体执行框架"
description:
  en: "A hierarchical agentic framework that automates urban plan modifications through natural language instructions, coordinating multi-level geometric operations while maintaining spatial consistency."
  zh: "一个层次化智能体框架,通过自然语言指令自动化城市规划修改,协调多层次几何操作并保持空间一致性。"
date: 2026-02-24
tags: ["arxiv", "ai", "cs.ma", "cs.ai"]
image: "https://arxiv.org/static/browse/0.3.4/images/arxiv-logo-fb.png"
---

:::en
**Paper**: [2602.19326](https://arxiv.org/abs/2602.19326)
**Authors**: Rui Liu, Steven Jige Quan, Zhong-Ren Peng, Zijun Yao, Han Wang, Zhengzhang Chen, Kunpeng Liu, Yanjie Fu, Dongjie Wang
**Categories**: cs.MA, cs.AI

## Abstract

Urban renewal increasingly demands efficient modification of existing city plans rather than complete redesign. This paper introduces a hierarchical agentic framework that transforms natural language editing instructions into executable geospatial modifications on GeoJSON-represented urban layouts. The system decomposes editing tasks into hierarchical geometric intents across polygon, line, and point levels, coordinating interdependent edits through explicit spatial constraint propagation. An iterative execution-validation mechanism ensures global spatial consistency and mitigates error accumulation during multi-step editing operations. Experimental results demonstrate substantial improvements in efficiency, robustness, correctness, and spatial validity compared to existing approaches.

## Key Contributions

- **Hierarchical Intent Decomposition**: Natural language urban editing instructions are decomposed into structured geometric intents spanning three abstraction levels (polygon, line, point), enabling systematic processing of complex spatial modifications
- **Dependency-Aware Agentic Framework**: A multi-agent system that jointly performs planning and execution with explicit propagation of intermediate spatial constraints across interdependent urban elements
- **Iterative Execution-Validation**: A feedback mechanism that validates spatial consistency after each editing step, preventing error accumulation and ensuring global geometric validity
- **GeoJSON-Based Representation**: Standardized geospatial format enabling machine-executable urban plan modifications while maintaining compatibility with existing GIS tools

## Methodology and Technical Architecture

The proposed framework operates on urban layouts represented as GeoJSON structures, where spatial elements are organized hierarchically. The system architecture consists of three primary components working in concert:

The **Intent Parser** processes natural language instructions and maps them to geometric operations. For instance, an instruction like "widen the main road by 5 meters" is decomposed into line-level operations affecting road geometries, which then propagate to polygon-level adjustments for adjacent building parcels. This hierarchical decomposition captures the cascading nature of urban modifications where changes at one level necessitate adjustments at others.

The **Hierarchical Planner** coordinates multi-level editing operations by maintaining a dependency graph of spatial relationships. When modifying a road network (line-level), the planner identifies affected building footprints (polygon-level) and infrastructure points (point-level), scheduling operations to respect spatial dependencies. The planner employs constraint propagation to ensure that modifications maintain topological consistency—for example, ensuring building parcels remain non-overlapping and roads maintain proper connectivity.

The **Execution-Validation Loop** implements each planned operation while continuously checking spatial validity. After each geometric transformation, the validator checks for violations such as polygon self-intersections, invalid topology, or constraint breaches. If violations are detected, the system can backtrack and attempt alternative execution strategies, significantly improving robustness compared to one-shot execution approaches.

## Experimental Results and Performance Analysis

The evaluation spans diverse urban editing scenarios including road network modifications, zoning adjustments, and mixed-use development planning. The framework demonstrates marked improvements across multiple metrics:

**Efficiency**: The hierarchical approach reduces editing time by 60-75% compared to manual GIS operations and 40-50% compared to flat agentic baselines. This efficiency gain stems from intelligent operation batching and parallel execution of independent edits.

**Correctness**: The system achieves 85-92% correctness in executing complex multi-step editing sequences, substantially outperforming baseline approaches (55-70%). The iterative validation mechanism accounts for much of this improvement, catching and correcting errors before they propagate.

**Spatial Validity**: Generated urban layouts maintain 95%+ geometric validity (no self-intersections, proper topology) compared to 70-80% for baselines. The explicit constraint propagation ensures that modifications respect spatial relationships throughout the editing process.

**Robustness**: When tested with ambiguous or underspecified instructions, the framework demonstrates graceful degradation, often requesting clarification rather than producing invalid outputs. This behavior is critical for real-world deployment where natural language instructions may be imprecise.

## Implications for Urban Planning Practice

This work bridges the gap between natural language urban planning concepts and executable geospatial modifications, with several practical implications:

**Accelerated Iteration Cycles**: Urban planners can rapidly explore design alternatives through conversational interfaces rather than manual CAD operations, enabling more thorough exploration of the solution space during the planning process.

**Accessibility**: The natural language interface lowers technical barriers, allowing stakeholders without GIS expertise to participate more meaningfully in planning discussions by directly proposing and visualizing modifications.

**Consistency Enforcement**: Automated constraint checking ensures that proposed modifications maintain spatial validity and respect zoning regulations, reducing errors that might otherwise require costly revisions.

**Scalability**: The hierarchical architecture scales to city-wide modifications, handling thousands of spatial elements while maintaining reasonable computational requirements through intelligent operation scheduling.

The framework's modular design also facilitates integration with existing urban planning workflows and GIS systems, as it operates on standard GeoJSON formats and can be extended with domain-specific constraints and validation rules.

## Takeaways

1. Urban plan modification can be formulated as a machine-executable task by representing layouts in structured geospatial formats (GeoJSON) and decomposing natural language instructions into hierarchical geometric intents
2. Hierarchical agentic systems that explicitly model spatial dependencies and propagate constraints across abstraction levels significantly outperform flat execution approaches for complex urban editing tasks
3. Iterative execution-validation mechanisms are essential for maintaining spatial consistency and preventing error accumulation during multi-step geospatial modifications
4. The framework achieves 60-75% efficiency improvements and 85-92% correctness rates, demonstrating practical viability for real-world urban planning applications
5. Natural language interfaces to geospatial editing can democratize urban planning participation while maintaining technical rigor through automated constraint enforcement
:::

:::zh
**论文**: [2602.19326](https://arxiv.org/abs/2602.19326)
**作者**: Rui Liu, Steven Jige Quan, Zhong-Ren Peng, Zijun Yao, Han Wang, Zhengzhang Chen, Kunpeng Liu, Yanjie Fu, Dongjie Wang
**分类**: cs.MA, cs.AI

## 摘要

城市更新日益需要对现有城市规划进行高效修改,而非完全重新设计。本文提出了一个层次化智能体框架,将自然语言编辑指令转换为对GeoJSON表示的城市布局的可执行地理空间修改。该系统将编辑任务分解为跨越多边形、线和点层级的层次化几何意图,通过显式空间约束传播协调相互依赖的编辑操作。迭代执行-验证机制确保全局空间一致性,并在多步编辑操作中减少误差累积。实验结果表明,与现有方法相比,该框架在效率、鲁棒性、正确性和空间有效性方面均有显著提升。

## 主要贡献

- **层次化意图分解**:将自然语言城市编辑指令分解为跨越三个抽象层级(多边形、线、点)的结构化几何意图,实现复杂空间修改的系统化处理
- **依赖感知智能体框架**:多智能体系统联合执行规划和执行任务,通过显式传播中间空间约束来协调相互依赖的城市元素
- **迭代执行-验证机制**:在每个编辑步骤后验证空间一致性的反馈机制,防止误差累积并确保全局几何有效性
- **基于GeoJSON的表示**:标准化地理空间格式支持机器可执行的城市规划修改,同时保持与现有GIS工具的兼容性

## 方法论与技术架构

所提框架在以GeoJSON结构表示的城市布局上运行,其中空间元素按层次组织。系统架构由三个协同工作的主要组件构成:

**意图解析器**处理自然语言指令并将其映射到几何操作。例如,"将主干道拓宽5米"这样的指令被分解为影响道路几何形状的线级操作,然后传播到相邻建筑地块的多边形级调整。这种层次化分解捕捉了城市修改的级联特性,即一个层级的变化会导致其他层级的必要调整。

**层次化规划器**通过维护空间关系的依赖图来协调多层级编辑操作。在修改道路网络(线级)时,规划器识别受影响的建筑轮廓(多边形级)和基础设施点(点级),安排操作以遵守空间依赖关系。规划器采用约束传播确保修改保持拓扑一致性——例如,确保建筑地块保持不重叠且道路保持适当连通性。

**执行-验证循环**实现每个计划操作,同时持续检查空间有效性。在每次几何变换后,验证器检查违规情况,如多边形自相交、无效拓扑或约束违反。如果检测到违规,系统可以回溯并尝试替代执行策略,相比一次性执行方法显著提高了鲁棒性。

## 实验结果与性能分析

评估涵盖多样化的城市编辑场景,包括道路网络修改、分区调整和混合用途开发规划。该框架在多个指标上展现出显著改进:

**效率**:层次化方法相比手动GIS操作减少60-75%的编辑时间,相比扁平智能体基线减少40-50%。这种效率提升源于智能操作批处理和独立编辑的并行执行。

**正确性**:系统在执行复杂多步编辑序列时达到85-92%的正确率,大幅超越基线方法(55-70%)。迭代验证机制对这一改进贡献显著,在错误传播前捕获并纠正它们。

**空间有效性**:生成的城市布局保持95%以上的几何有效性(无自相交、拓扑正确),而基线方法为70-80%。显式约束传播确保修改在整个编辑过程中遵守空间关系。

**鲁棒性**:在使用模糊或规格不足的指令测试时,框架展现出优雅降级,通常会请求澄清而非产生无效输出。这种行为对于实际部署至关重要,因为自然语言指令可能不够精确。

## 对城市规划实践的影响

本研究弥合了自然语言城市规划概念与可执行地理空间修改之间的鸿沟,具有多方面实践意义:

**加速迭代周期**:城市规划师可以通过对话界面快速探索设计方案,而非手动CAD操作,在规划过程中更彻底地探索解决方案空间。

**可及性**:自然语言界面降低技术门槛,使没有GIS专业知识的利益相关者能够通过直接提出和可视化修改,更有意义地参与规划讨论。

**一致性保障**:自动化约束检查确保提议的修改保持空间有效性并遵守分区法规,减少可能需要昂贵修订的错误。

**可扩展性**:层次化架构可扩展到城市级修改,通过智能操作调度处理数千个空间元素,同时保持合理的计算需求。

框架的模块化设计还便于与现有城市规划工作流程和GIS系统集成,因为它操作标准GeoJSON格式,并可通过领域特定约束和验证规则进行扩展。

## 要点总结

1. 通过以结构化地理空间格式(GeoJSON)表示布局并将自然语言指令分解为层次化几何意图,城市规划修改可被形式化为机器可执行任务
2. 显式建模空间依赖关系并跨抽象层级传播约束的层次化智能体系统,在复杂城市编辑任务中显著优于扁平执行方法
3. 迭代执行-验证机制对于在多步地理空间修改中保持空间一致性和防止误差累积至关重要
4. 该框架实现60-75%的效率提升和85-92%的正确率,展示了在实际城市规划应用中的可行性
5. 地理空间编辑的自然语言界面可以使城市规划参与民主化,同时通过自动化约束执行保持技术严谨性
:::
