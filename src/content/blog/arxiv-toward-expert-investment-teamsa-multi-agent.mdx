---
title:
  en: "Toward Expert Investment Teams: A Multi-Agent LLM System with Fine-Grained Trading Tasks"
  zh: "构建专家投资团队:基于细粒度交易任务的多智能体大语言模型系统"
description:
  en: "A novel multi-agent LLM framework that decomposes investment analysis into fine-grained tasks, achieving superior risk-adjusted returns on Japanese stock markets through explicit task decomposition and alignment between analytical outputs and decision preferences."
  zh: "一个创新的多智能体大语言模型框架,通过将投资分析分解为细粒度任务,在日本股票市场上实现了卓越的风险调整收益,关键在于显式任务分解和分析输出与决策偏好的对齐。"
date: 2026-02-28
tags: ["arxiv", "ai", "cs.ai", "q-fin.tr"]
image: "/arxiv-visuals/toward-expert-investment-teamsa-multi-agent/HeroScene.png"
---

![Concept animation](/arxiv-visuals/toward-expert-investment-teamsa-multi-agent/ConceptScene.gif)



![Hero diagram](/arxiv-visuals/toward-expert-investment-teamsa-multi-agent/HeroScene.png)



:::en
**Paper**: [2602.23330](https://arxiv.org/abs/2602.23330)
**Authors**: Kunihiro Miyazaki, Takanobu Kawahara, Stephen Roberts, Stefan Zohren
**Categories**: cs.AI, q-fin.TR

## Abstract

This paper introduces a multi-agent LLM framework for autonomous financial trading that explicitly decomposes investment analysis into fine-grained tasks. Unlike conventional approaches that rely on abstract, coarse-grained instructions mimicking analyst and manager roles, this system breaks down the investment workflow into specific, well-defined subtasks. Evaluated on Japanese stock data encompassing prices, financial statements, news, and macroeconomic information under rigorous leakage-controlled backtesting, the framework demonstrates significant improvements in risk-adjusted returns. The research reveals that alignment between intermediate analytical outputs and downstream decision-making preferences is crucial for system performance, and portfolio optimization exploiting low correlation with market indices further enhances results.

## Key Contributions

- Introduction of a fine-grained task decomposition approach for multi-agent LLM trading systems, moving beyond abstract role-based instructions
- Comprehensive evaluation framework using Japanese stock market data with multiple information sources (prices, financials, news, macro data) under leakage-controlled backtesting
- Empirical demonstration that fine-grained task decomposition significantly outperforms coarse-grained designs in risk-adjusted returns
- Discovery that alignment between analytical outputs and decision preferences is a critical performance driver
- Portfolio optimization strategy leveraging low correlation with stock indices and inter-system variance for superior performance

## Methodology and System Architecture

The proposed framework fundamentally reimagines how LLM agents should be structured for financial trading. Traditional multi-agent systems typically assign broad roles like "analyst" or "portfolio manager" with high-level instructions, which can lead to ambiguous outputs and suboptimal decision-making. This research takes a different approach by explicitly decomposing the investment process into granular, well-defined tasks.

The system architecture consists of multiple specialized agents, each responsible for specific analytical subtasks. Rather than asking an agent to "analyze this stock," the framework breaks this down into concrete operations: extracting key financial metrics, identifying trend patterns, assessing news sentiment, evaluating macroeconomic context, and synthesizing these inputs into actionable insights. This decomposition mirrors how professional investment teams actually operate, where different specialists contribute focused analyses that feed into collective decision-making.

The evaluation methodology is particularly rigorous. Using Japanese stock market data, the researchers implement leakage-controlled backtesting to ensure that no future information contaminates historical decisions—a common pitfall in financial ML research. The data pipeline integrates multiple information sources: time-series price data, quarterly financial statements, news articles, and macroeconomic indicators, providing a realistic information environment for the agents.

## Experimental Results and Performance Analysis

The experimental results strongly validate the fine-grained task decomposition approach. Compared to baseline systems using coarse-grained instructions, the proposed framework achieves substantially higher risk-adjusted returns, measured through metrics like Sharpe ratio and maximum drawdown. This improvement isn't marginal—it represents a meaningful enhancement in practical trading performance.

What makes these results particularly compelling is the analysis of intermediate outputs. The researchers examine what each agent produces at various stages of the decision pipeline and correlate these outputs with final trading performance. This analysis reveals a critical insight: systems where analytical outputs naturally align with downstream decision preferences perform significantly better. In other words, when an agent's analysis format and content match what subsequent decision-making agents need, the entire system operates more effectively.

The portfolio optimization experiments add another dimension to the findings. By constructing portfolios that exploit the low correlation between different system outputs and the broader stock index, the researchers achieve even better performance. This suggests that the fine-grained approach not only improves individual system performance but also generates more diverse signals suitable for ensemble methods.

## Implications for LLM-Based Trading Systems

This research has profound implications for how we should design LLM-based trading systems. The key takeaway is that task granularity matters enormously. Abstract, high-level instructions may seem intuitive—after all, we tell human analysts "analyze this company"—but LLMs benefit from explicit task decomposition. This finding aligns with broader observations in prompt engineering: specificity and structure improve LLM performance.

The alignment discovery is equally important. It suggests that when designing multi-agent systems, we shouldn't just think about what each agent does in isolation, but how their outputs fit into the broader workflow. An agent producing brilliant analysis in an incompatible format is less valuable than one producing adequate analysis in exactly the right format for downstream consumption. This points toward the need for careful interface design between agents.

From a practical deployment perspective, the fine-grained approach offers additional benefits beyond performance. The explicit task decomposition makes the system more interpretable—stakeholders can examine specific analytical steps rather than trying to reverse-engineer decisions from opaque agent interactions. This transparency is crucial for regulatory compliance and risk management in real-world trading operations.

The portfolio optimization results suggest a path toward production systems: rather than seeking a single "best" configuration, deploy multiple fine-grained systems with different task decompositions and combine their outputs. The diversity in analytical approaches, when properly orchestrated, can provide robust performance across different market conditions.

## Takeaways

1. Fine-grained task decomposition significantly outperforms coarse-grained role-based instructions in multi-agent LLM trading systems, achieving superior risk-adjusted returns on real market data.

2. Alignment between intermediate analytical outputs and downstream decision preferences is a critical driver of overall system performance, suggesting that interface design between agents is as important as individual agent capabilities.

3. Explicit task decomposition enhances system interpretability and transparency, making LLM-based trading systems more suitable for regulated financial environments where decision auditability is essential.

4. Portfolio optimization exploiting low correlation between different system configurations and market indices can further enhance performance, pointing toward ensemble approaches for production deployment.

5. The methodology demonstrates that LLM agents benefit from structured, specific instructions that mirror real-world professional workflows rather than abstract role descriptions, a principle likely applicable beyond financial trading to other complex multi-agent domains.
:::

:::zh
**论文**: [2602.23330](https://arxiv.org/abs/2602.23330)
**作者**: Kunihiro Miyazaki, Takanobu Kawahara, Stephen Roberts, Stefan Zohren
**分类**: cs.AI, q-fin.TR

## 摘要

本文提出了一个用于自主金融交易的多智能体大语言模型框架,该框架将投资分析显式分解为细粒度任务。与依赖模仿分析师和经理角色的抽象粗粒度指令的传统方法不同,该系统将投资工作流程分解为具体且定义明确的子任务。研究在严格的防泄漏回测环境下,使用包含价格、财务报表、新闻和宏观经济信息的日本股票数据进行评估,框架在风险调整收益方面表现出显著改进。研究揭示了中间分析输出与下游决策偏好之间的对齐对系统性能至关重要,而利用与市场指数低相关性的投资组合优化进一步提升了结果。

## 主要贡献

- 提出了多智能体大语言模型交易系统的细粒度任务分解方法,超越了基于抽象角色的指令设计
- 建立了综合评估框架,使用包含多种信息源(价格、财务、新闻、宏观数据)的日本股市数据,在防泄漏回测条件下进行验证
- 实证表明细粒度任务分解在风险调整收益方面显著优于粗粒度设计
- 发现分析输出与决策偏好之间的对齐是关键性能驱动因素
- 提出利用与股票指数低相关性和系统间方差的投资组合优化策略,实现卓越性能

## 方法论与系统架构

该框架从根本上重新构想了大语言模型智能体在金融交易中的结构设计。传统的多智能体系统通常分配"分析师"或"投资组合经理"等宽泛角色并配以高层指令,这可能导致输出模糊和决策次优。本研究采用不同方法,将投资过程显式分解为细粒度的明确任务。

系统架构由多个专门化智能体组成,每个智能体负责特定的分析子任务。框架不是要求智能体"分析这只股票",而是将其分解为具体操作:提取关键财务指标、识别趋势模式、评估新闻情绪、评价宏观经济背景,并将这些输入综合为可操作的洞察。这种分解反映了专业投资团队的实际运作方式,不同专家贡献聚焦的分析,汇入集体决策过程。

评估方法论特别严格。研究者使用日本股市数据,实施防泄漏回测以确保未来信息不会污染历史决策——这是金融机器学习研究中的常见陷阱。数据管道整合了多个信息源:时间序列价格数据、季度财务报表、新闻文章和宏观经济指标,为智能体提供了真实的信息环境。

## 实验结果与性能分析

实验结果有力验证了细粒度任务分解方法。与使用粗粒度指令的基线系统相比,所提框架实现了显著更高的风险调整收益,通过夏普比率和最大回撤等指标衡量。这种改进不是边际性的——它代表了实际交易性能的有意义提升。

使这些结果特别令人信服的是对中间输出的分析。研究者检查每个智能体在决策管道各阶段产生的内容,并将这些输出与最终交易性能相关联。这一分析揭示了关键洞察:分析输出与下游决策偏好自然对齐的系统表现显著更好。换句话说,当智能体的分析格式和内容与后续决策智能体的需求匹配时,整个系统运行更有效。

投资组合优化实验为研究发现增添了另一维度。通过构建利用不同系统输出与更广泛股票指数之间低相关性的投资组合,研究者实现了更优性能。这表明细粒度方法不仅改善了单个系统性能,还生成了更适合集成方法的多样化信号。

## 对基于大语言模型交易系统的启示

本研究对如何设计基于大语言模型的交易系统具有深远影响。关键要点是任务粒度极其重要。抽象的高层指令可能看似直观——毕竟我们会告诉人类分析师"分析这家公司"——但大语言模型受益于显式任务分解。这一发现与提示工程中的更广泛观察一致:具体性和结构性能提升大语言模型性能。

对齐发现同样重要。它表明在设计多智能体系统时,我们不应只考虑每个智能体孤立地做什么,而要考虑它们的输出如何融入更广泛的工作流程。一个产生出色分析但格式不兼容的智能体,其价值低于一个产生适当分析且格式完全符合下游消费需求的智能体。这指向了智能体间接口设计的必要性。

从实际部署角度看,细粒度方法除性能外还提供额外优势。显式任务分解使系统更具可解释性——利益相关者可以检查特定分析步骤,而不是试图从不透明的智能体交互中逆向工程决策。这种透明度对于实际交易操作中的监管合规和风险管理至关重要。

投资组合优化结果指向生产系统的路径:与其寻求单一"最佳"配置,不如部署多个具有不同任务分解的细粒度系统并组合它们的输出。分析方法的多样性在适当编排下,可以在不同市场条件下提供稳健性能。

## 要点总结

1. 细粒度任务分解在多智能体大语言模型交易系统中显著优于粗粒度基于角色的指令,在真实市场数据上实现了卓越的风险调整收益。

2. 中间分析输出与下游决策偏好之间的对齐是整体系统性能的关键驱动因素,表明智能体间的接口设计与单个智能体能力同等重要。

3. 显式任务分解增强了系统可解释性和透明度,使基于大语言模型的交易系统更适合需要决策可审计性的受监管金融环境。

4. 利用不同系统配置与市场指数之间低相关性的投资组合优化可以进一步提升性能,指向生产部署的集成方法。

5. 该方法论证明大语言模型智能体受益于反映真实世界专业工作流程的结构化具体指令,而非抽象角色描述,这一原则可能适用于金融交易之外的其他复杂多智能体领域。
:::
