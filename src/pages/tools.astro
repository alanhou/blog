---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
const tools = await getCollection('tools');

const builtInTools = [
  {
    title: { en: 'Password Generator', zh: 'å¯†ç ç”Ÿæˆå™¨' },
    description: { en: 'Generate secure random passwords with customizable options', zh: 'ç”Ÿæˆå®‰å…¨éšæœºå¯†ç ï¼Œæ”¯æŒè‡ªå®šä¹‰é€‰é¡¹' },
    url: '/tools/password-generator',
    icon: 'ğŸ”'
  },
  {
    title: { en: 'Base64 Image Encoder/Decoder', zh: 'Base64å›¾ç‰‡ç¼–è§£ç ' },
    description: { en: 'Convert images to/from Base64 format', zh: 'å›¾ç‰‡ä¸Base64æ ¼å¼äº’è½¬' },
    url: '/tools/base64-image',
    icon: 'ğŸ–¼ï¸'
  },
  {
    title: { en: 'QR Code Generator', zh: 'äºŒç»´ç ç”Ÿæˆå™¨' },
    description: { en: 'Generate QR codes from URLs or text with custom colors', zh: 'ä»URLæˆ–æ–‡æœ¬ç”ŸæˆäºŒç»´ç ï¼Œæ”¯æŒè‡ªå®šä¹‰é¢œè‰²' },
    url: '/tools/qrcode-generator',
    icon: 'ğŸ“±'
  }
];
---
<Layout title="Tools / å·¥å…·">
<h1>Tools / å·¥å…·</h1>
<p>Useful development and utility tools. / å®ç”¨å¼€å‘å·¥å…·é›†</p>

<h2 class="section-title">Built-in Tools / å†…ç½®å·¥å…·</h2>
<div class="tools-grid">
  {builtInTools.map(tool => (
    <a href={tool.url} class="tool-card">
      <span class="tool-icon">{tool.icon}</span>
      <h3>{tool.title.en}</h3>
      <p class="zh-title">{tool.title.zh}</p>
      <p class="description">{tool.description.en}</p>
    </a>
  ))}
</div>

{tools.length > 0 && (
  <>
    <h2 class="section-title">External Tools / å¤–éƒ¨å·¥å…·</h2>
    <div class="tools-grid">
      {tools.map(tool => (
        <a href={tool.data.url} target="_blank" rel="noopener" class="tool-card external">
          <h3>{tool.data.title?.en || tool.data.title?.zh}</h3>
          <p class="description">{tool.data.description?.en || tool.data.description?.zh}</p>
          <span class="pricing">{tool.data.pricing}</span>
        </a>
      ))}
    </div>
  </>
)}
</Layout>

<style>
h1 {
  margin-bottom: 0.5rem;
}

h1 + p {
  color: var(--text-secondary);
  margin-bottom: 2rem;
}

.section-title {
  font-size: 1.25rem;
  margin: 2rem 0 1rem;
  color: var(--text);
}

.tools-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1.5rem;
}

.tool-card {
  padding: 1.5rem;
  border: 1px solid var(--border);
  border-radius: 12px;
  text-decoration: none;
  color: var(--text);
  transition: border-color 0.2s, transform 0.2s;
  display: block;
}

.tool-card:hover {
  border-color: var(--primary);
  transform: translateY(-2px);
}

.tool-icon {
  font-size: 2rem;
  display: block;
  margin-bottom: 0.75rem;
}

.tool-card h3 {
  color: var(--primary);
  margin-bottom: 0.25rem;
  font-size: 1.1rem;
}

.tool-card .zh-title {
  color: var(--text-secondary);
  font-size: 0.9rem;
  margin-bottom: 0.75rem;
}

.tool-card .description {
  color: var(--text-secondary);
  font-size: 0.9rem;
  line-height: 1.5;
}

.tool-card.external h3::after {
  content: ' â†—';
  font-size: 0.8em;
  opacity: 0.5;
}

.pricing {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  background: var(--bg-secondary);
  border-radius: 4px;
  font-size: 0.8rem;
  margin-top: 0.75rem;
}

@media (max-width: 640px) {
  .tools-grid {
    grid-template-columns: 1fr;
  }
}
</style>
